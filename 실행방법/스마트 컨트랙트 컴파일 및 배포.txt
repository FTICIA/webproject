# 컨트랙트 컴파일
truffle compile

# 컨트랙트 배포
truffle migrate --network development

# 배포된 컨트랙트 주소 기록
echo "MEDICAL_RECORDS_ADDRESS=$(truffle networks | grep -A 1 MedicalRecords | grep -oE '0x[a-fA-F0-9]{40}')" > contract_addresses.env
echo "PRESCRIPTION_LEDGER_ADDRESS=$(truffle networks | grep -A 1 PrescriptionLedger | grep -oE '0x[a-fA-F0-9]{40}')" >> contract_addresses.env
echo "DRUG_TRACEABILITY_ADDRESS=$(truffle networks | grep -A 1 DrugTraceability | grep -oE '0x[a-fA-F0-9]{40}')" >> contract_addresses.env