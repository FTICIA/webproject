# AKS 자격 증명 가져오기
az aks get-credentials --resource-group fluid-medical-rg --name fluid-medical-aks

# 네임스페이스 생성
kubectl apply -f k8s/namespace.yaml

# Secret 생성
# base64로 인코딩된 값을 사용하여 시크릿 매니페스트 준비
kubectl apply -f k8s/secrets/blockchain-credentials-secret.yaml
kubectl apply -f k8s/secrets/azure-credentials-secret.yaml

# ConfigMap 생성
kubectl apply -f k8s/configmaps/blockchain-contracts-configmap.yaml
kubectl apply -f k8s/configmaps/blockchain-config-configmap.yaml

# 배포 실행
kubectl apply -f k8s/deployments/
kubectl apply -f k8s/services/
kubectl apply -f k8s/ingress.yaml